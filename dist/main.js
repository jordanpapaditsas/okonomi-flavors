(()=>{"use strict";var e={};function t(){document.querySelector("#main").append(function(){const e=document.createElement("div");e.id="home-page-div";const t=document.createElement("h1");t.id="restaurant-name",t.innerHTML='Welcome to Okonomi Flavors<br>\n                              <span id="restaurant-type">Traditional Japanese Restaurant</span>';const n=document.createElement("p");n.id="home-paragraph",n.innerHTML="\n  The art of crafting mouthwatering okonomiyaki has \n  been our passion and tradition since 1900. \n  With over a century of dedicated service, \n  we take immense pride in our commitment to delivering \n  not only the finest flavors but also the warmest hospitality to our \n  cherished customers. <br><br>\n  \n  For generations, our family-owned establishment has \n  perfected the delicate balance of savory and sweet, crispy and tender, \n  that defines the essence of okonomiyaki. Every dish we create is \n  a labor of love, passed down through the years, preserving the authenticity \n  and time-honored techniques that have made us a beloved culinary destination.";const o=document.createElement("div");o.id="work-schedule-div";const a=document.createElement("h2");a.id="hours-h2",a.textContent="Working Hours";const r=document.createElement("p");r.classList.add("hours"),r.textContent="Monday: 10:00 - 21:00";const c=document.createElement("p");c.classList.add("hours"),c.textContent="Tuesday: 10:00 - 21:00";const i=document.createElement("p");i.classList.add("hours"),i.textContent="Wednesday: 10:00 - 21:00";const d=document.createElement("p");d.classList.add("hours"),d.textContent="Thursday: 10:00 - 21:00";const s=document.createElement("p");s.classList.add("hours"),s.textContent="Friday: 10:00 - 21:00";const m=document.createElement("p");return m.classList.add("hours"),m.textContent="Saturday: 10:00 - 18:00",o.append(a,r,c,i,d,s,m),e.append(t,n,o),e}())}function n(e,t,n,o){const a=document.createElement("div");a.id="product-card";const r=document.createElement("img");r.id="product-img",r.src=`../src/assets/${t.toLowerCase()}.png`,r.alt=`${t}`;const c=document.createElement("h2");c.id="product-title",c.textContent=e;const i=document.createElement("p");i.id="product-description",i.textContent=n;const d=document.createElement("p");return d.id="product-price",d.textContent=o,a.append(r),a.append(c),a.append(i),a.append(d),a}function o(){const e=document.querySelector("#name-input").value,t=document.querySelector("#email-input").value,n=document.querySelector("#message-textarea").value,o=document.querySelector("#main");if(!function(){const e=document.querySelector("#name-input").value,t=document.querySelector("#email-input").value,n=document.querySelector("#message-textarea").value,o=document.querySelector("#confirmation-message");let c=!0;return!e||e.length<2?(a.errorValidationForName.innerHTML="Name is too short, please give a valid name!",c=!1):/^[a-zA-z]+$/.test(e)?a.errorValidationForName.innerHTML="":a.errorValidationForName.innerHTML="Please give a valid name!",/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(t)?a.errorValidationForEmail.innerHTML="":(a.errorValidationForEmail.innerHTML="Please give a valid email!",c=!1),!n||n.length<=6?(a.errorValidationForTextArea.innerHTML="Message too short!",c=!1):a.errorValidationForTextArea.innerHTML="",r.confirmationMessage.innerHTML=o?"You are already submitted the form!":"Form submitted successfully! <br>\n    We will contact you as soon as possible.",c}())return;const c={name:e,email:t,message:n},i=JSON.stringify(c);localStorage.setItem("formData",i),document.querySelector("#name-input").value="",document.querySelector("#email-input").value="",document.querySelector("#message-textarea").value="",function(){const e=localStorage.getItem("formData");if(e){const t=JSON.parse(e);console.log("Stored Form Data: ",t)}else console.log("There isn't any data stored in the local storage.")}(),o.append(r.confirmationMessage)}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&!t;)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const a=(()=>{const e=document.createElement("span");e.id="error-name";const t=document.createElement("span");t.id="error-email";const n=document.createElement("span");return n.id="error-textarea",{errorValidationForName:e,errorValidationForEmail:t,errorValidationForTextArea:n}})(),r=(()=>{const e=document.createElement("div");return e.id="confirmation-message",{confirmationMessage:e}})(),c=e.p+"fc7ac596b4ad63198035.png",i=e.p+"b2a0883929ab3a03c5c5.png";function d(){const e=document.querySelectorAll("button"),r=c,d=i;e.forEach((e=>{e.addEventListener("click",(e=>{"home-btn"===e.target.id?(s(),document.body.style.backgroundImage=`url(${r})`,t()):"menu-btn"===e.target.id?(s(),document.body.style.backgroundImage="none",document.querySelector("#main").append(function(){const e=document.createElement("div");return e.id="menu-div",e.append(n("Samurai Bacon","first-product","Testing Description Lorem Ipsum","5.70$")),e.append(n("Fuji sensation","second-product","Testing Description Lorem Ipsum","7.50$")),e.append(n("Ninja way","third-product","Testing Description Lorem Ipsum","6.90$")),e.append(n("Shrimp eruption","fourth-product","Testing Description Lorem Ipsum","9.60$")),e}())):"contact-btn"===e.target.id&&(s(),document.body.style.backgroundImage=`url(${d})`,document.querySelector("#main").append(function(){const e=document.createElement("div");e.id="contact-page-container";const t=document.createElement("h1");t.id="contact-us-title",t.textContent="Contact Us";const n=document.createElement("div");n.id="submit-btn-container";const r=document.createElement("button");return r.id="submit-btn",r.value="insert",r.textContent="Submit",r.addEventListener("click",o),n.append(r),e.append(t,function(){const e=document.createElement("div");e.id="contact-form-container";const t=document.createElement("form");t.id="contact-form",t.method="POST";const n=document.createElement("div");n.id="name-div";const o=document.createElement("input");o.id="name-input",o.type="text",o.name="name",o.autocomplete="on",o.placeholder="Name";const r=document.createElement("div");r.id="email-div";const c=document.createElement("input");c.id="email-input",c.type="email",c.name="email",c.autocomplete="on",c.placeholder="Email";const i=document.createElement("div");i.id="message-box-div";const d=document.createElement("textarea");return d.id="message-textarea",d.name="message-text",d.placeholder="Message",n.append(o),r.append(c),i.append(d),t.append(n,r,i,a.errorValidationForName,a.errorValidationForEmail,a.errorValidationForTextArea),e.append(t),e}(),n),e}()))}))}))}function s(){const e=document.querySelector("#main");return e.textContent="",e}!function(){const e=document.querySelector("#content");e.append(function(){const e=document.createElement("header");e.id="header";const t=document.createElement("img");return t.id="logo",t.src="../src/assets/okonomi-logo.png",t.alt="LOGO",e.append(t),e.append(function(){const e=document.createElement("nav");e.id="nav";const t=document.createElement("button");t.id="home-btn",t.textContent="HOME";const n=document.createElement("button");n.id="menu-btn",n.textContent="MENU";const o=document.createElement("button");return o.id="contact-btn",o.textContent="CONTACT US",e.append(t),e.append(n),e.append(o),e}()),e}()),e.append(function(){const e=document.createElement("main");return e.id="main",e}()),e.append(function(){const e=document.createElement("footer");e.id="footer";const t=document.createElement("div");t.id="footer-div";const n=document.createElement("span");n.textContent="Copyright Â©";const o=document.createElement("p");o.textContent="Jordan Papaditsas";const a=(new Date).getFullYear(),r=document.createElement("a");r.href="https://github.com/jordanpapaditsas";const c=document.createElement("i");return c.classList.add("fa-brands","fa-github"),t.append(n,o,a,r),r.append(c),e.append(t),e}()),t(),d()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YS9ILFNBQVNJLGNBQWMsS0FDMUMySCxFQUFXcEgsWUFBYyxvQkFFekIsTUFBTXFILEdBQWMsSUFBSUMsTUFBT0MsY0FFekJDLEVBQWFuSSxTQUFTSSxjQUFjLEtBQzFDK0gsRUFBV0MsS0FBTyxzQ0FFbEIsTUFBTUMsRUFBYXJJLFNBQVNJLGNBQWMsS0FPMUMsT0FOQWlJLEVBQVd4SCxVQUFVQyxJQUFJLFlBQWEsYUFFdEMrRyxFQUFVM0gsT0FBTzRILEVBQVdDLEVBQVlDLEVBQWFHLEdBQ3JEQSxFQUFXakksT0FBT21JLEdBQ2xCVCxFQUFPMUgsT0FBTzJILEdBRVBELENBQ1QsQ0F1Q2lCVSxJQUNmdkksSUFDQW1GLEdBR0YsQ0N2SEFxRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2tvbm9taS1mbGF2b3JzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29rb25vbWktZmxhdm9ycy8uL3NyYy9ob21lLmpzIiwid2VicGFjazovL29rb25vbWktZmxhdm9ycy8uL3NyYy9tZW51LmpzIiwid2VicGFjazovL29rb25vbWktZmxhdm9ycy8uL3NyYy9jb250YWN0LmpzIiwid2VicGFjazovL29rb25vbWktZmxhdm9ycy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29rb25vbWktZmxhdm9ycy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9va29ub21pLWZsYXZvcnMvLi9zcmMvcGFnZS1zdHJ1Y3R1cmUuanMiLCJ3ZWJwYWNrOi8vb2tvbm9taS1mbGF2b3JzLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIgZnVuY3Rpb24gY3JlYXRlSG9tZVBhZ2UoKSB7XHJcbiAgY29uc3QgaG9tZVBhZ2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBob21lUGFnZURpdi5pZCA9ICdob21lLXBhZ2UtZGl2JztcclxuXHJcbiAgY29uc3QgcmVzdGF1cmFudE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gIHJlc3RhdXJhbnROYW1lLmlkID0gJ3Jlc3RhdXJhbnQtbmFtZSc7XHJcbiAgcmVzdGF1cmFudE5hbWUuaW5uZXJIVE1MID0gYFdlbGNvbWUgdG8gT2tvbm9taSBGbGF2b3JzPGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInJlc3RhdXJhbnQtdHlwZVwiPlRyYWRpdGlvbmFsIEphcGFuZXNlIFJlc3RhdXJhbnQ8L3NwYW4+YDtcclxuXHJcbiAgY29uc3QgaG9tZVBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICBob21lUGFyYWdyYXBoLmlkID0gJ2hvbWUtcGFyYWdyYXBoJztcclxuICBob21lUGFyYWdyYXBoLmlubmVySFRNTCA9IGBcclxuICBUaGUgYXJ0IG9mIGNyYWZ0aW5nIG1vdXRod2F0ZXJpbmcgb2tvbm9taXlha2kgaGFzIFxyXG4gIGJlZW4gb3VyIHBhc3Npb24gYW5kIHRyYWRpdGlvbiBzaW5jZSAxOTAwLiBcclxuICBXaXRoIG92ZXIgYSBjZW50dXJ5IG9mIGRlZGljYXRlZCBzZXJ2aWNlLCBcclxuICB3ZSB0YWtlIGltbWVuc2UgcHJpZGUgaW4gb3VyIGNvbW1pdG1lbnQgdG8gZGVsaXZlcmluZyBcclxuICBub3Qgb25seSB0aGUgZmluZXN0IGZsYXZvcnMgYnV0IGFsc28gdGhlIHdhcm1lc3QgaG9zcGl0YWxpdHkgdG8gb3VyIFxyXG4gIGNoZXJpc2hlZCBjdXN0b21lcnMuIDxicj48YnI+XHJcbiAgXHJcbiAgRm9yIGdlbmVyYXRpb25zLCBvdXIgZmFtaWx5LW93bmVkIGVzdGFibGlzaG1lbnQgaGFzIFxyXG4gIHBlcmZlY3RlZCB0aGUgZGVsaWNhdGUgYmFsYW5jZSBvZiBzYXZvcnkgYW5kIHN3ZWV0LCBjcmlzcHkgYW5kIHRlbmRlciwgXHJcbiAgdGhhdCBkZWZpbmVzIHRoZSBlc3NlbmNlIG9mIG9rb25vbWl5YWtpLiBFdmVyeSBkaXNoIHdlIGNyZWF0ZSBpcyBcclxuICBhIGxhYm9yIG9mIGxvdmUsIHBhc3NlZCBkb3duIHRocm91Z2ggdGhlIHllYXJzLCBwcmVzZXJ2aW5nIHRoZSBhdXRoZW50aWNpdHkgXHJcbiAgYW5kIHRpbWUtaG9ub3JlZCB0ZWNobmlxdWVzIHRoYXQgaGF2ZSBtYWRlIHVzIGEgYmVsb3ZlZCBjdWxpbmFyeSBkZXN0aW5hdGlvbi5gO1xyXG5cclxuICBjb25zdCB3b3JrU2NoZWR1bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICB3b3JrU2NoZWR1bGVEaXYuaWQgPSAnd29yay1zY2hlZHVsZS1kaXYnO1xyXG4gIFxyXG4gIGNvbnN0IGhvdXJzVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xyXG4gIGhvdXJzVGl0bGUuaWQgPSAnaG91cnMtaDInO1xyXG4gIGhvdXJzVGl0bGUudGV4dENvbnRlbnQgPSAnV29ya2luZyBIb3Vycyc7XHJcblxyXG4gIGNvbnN0IGhvdXJzTW9uZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gIGhvdXJzTW9uZGF5LmNsYXNzTGlzdC5hZGQoJ2hvdXJzJyk7XHJcbiAgaG91cnNNb25kYXkudGV4dENvbnRlbnQgPSAnTW9uZGF5OiAxMDowMCAtIDIxOjAwJztcclxuICBjb25zdCBob3Vyc1R1ZXNkYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgaG91cnNUdWVzZGF5LmNsYXNzTGlzdC5hZGQoJ2hvdXJzJyk7XHJcbiAgaG91cnNUdWVzZGF5LnRleHRDb250ZW50ID0gJ1R1ZXNkYXk6IDEwOjAwIC0gMjE6MDAnO1xyXG4gIGNvbnN0IGhvdXJzV2VkbmVzZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gIGhvdXJzV2VkbmVzZGF5LmNsYXNzTGlzdC5hZGQoJ2hvdXJzJyk7XHJcbiAgaG91cnNXZWRuZXNkYXkudGV4dENvbnRlbnQgPSAnV2VkbmVzZGF5OiAxMDowMCAtIDIxOjAwJztcclxuICBjb25zdCBob3Vyc1RodXJzZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gIGhvdXJzVGh1cnNkYXkuY2xhc3NMaXN0LmFkZCgnaG91cnMnKTtcclxuICBob3Vyc1RodXJzZGF5LnRleHRDb250ZW50ID0gJ1RodXJzZGF5OiAxMDowMCAtIDIxOjAwJztcclxuICBjb25zdCBob3Vyc0ZyaWRheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICBob3Vyc0ZyaWRheS5jbGFzc0xpc3QuYWRkKCdob3VycycpO1xyXG4gIGhvdXJzRnJpZGF5LnRleHRDb250ZW50ID0gJ0ZyaWRheTogMTA6MDAgLSAyMTowMCc7XHJcbiAgY29uc3QgaG91cnNTYXR1cmRheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICBob3Vyc1NhdHVyZGF5LmNsYXNzTGlzdC5hZGQoJ2hvdXJzJyk7XHJcbiAgaG91cnNTYXR1cmRheS50ZXh0Q29udGVudCA9ICdTYXR1cmRheTogMTA6MDAgLSAxODowMCc7XHJcblxyXG4gIHdvcmtTY2hlZHVsZURpdi5hcHBlbmQoaG91cnNUaXRsZSwgaG91cnNNb25kYXksIGhvdXJzVHVlc2RheSwgaG91cnNXZWRuZXNkYXksICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzVGh1cnNkYXksIGhvdXJzRnJpZGF5LCBob3Vyc1NhdHVyZGF5KTtcclxuICBob21lUGFnZURpdi5hcHBlbmQocmVzdGF1cmFudE5hbWUsIGhvbWVQYXJhZ3JhcGgsIHdvcmtTY2hlZHVsZURpdik7XHJcbiAgXHJcbiAgcmV0dXJuIGhvbWVQYWdlRGl2O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhvbWVQYWdlKCkge1xyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4nKTtcclxuXHJcbm1haW4uYXBwZW5kKGNyZWF0ZUhvbWVQYWdlKCkpO1xyXG59XHJcbiIsImZ1bmN0aW9uIGNyZWF0ZU1lbnVQYWdlKCkge1xyXG4gIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBtZW51Q29udGFpbmVyLmlkID0gJ21lbnUtZGl2JztcclxuXHJcbiAgbWVudUNvbnRhaW5lci5hcHBlbmQoXHJcbiAgICBjcmVhdGVQcm9kdWN0KFxyXG4gICAgICAnU2FtdXJhaSBCYWNvbicsXHJcbiAgICAgICdmaXJzdC1wcm9kdWN0JyxcclxuICAgICAgJ1Rlc3RpbmcgRGVzY3JpcHRpb24gTG9yZW0gSXBzdW0nLFxyXG4gICAgICAnNS43MCQnXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgbWVudUNvbnRhaW5lci5hcHBlbmQoXHJcbiAgICBjcmVhdGVQcm9kdWN0KFxyXG4gICAgICAnRnVqaSBzZW5zYXRpb24nLFxyXG4gICAgICAnc2Vjb25kLXByb2R1Y3QnLFxyXG4gICAgICAnVGVzdGluZyBEZXNjcmlwdGlvbiBMb3JlbSBJcHN1bScsXHJcbiAgICAgICc3LjUwJCdcclxuICAgIClcclxuICApO1xyXG5cclxuICBtZW51Q29udGFpbmVyLmFwcGVuZChcclxuICAgIGNyZWF0ZVByb2R1Y3QoXHJcbiAgICAgICdOaW5qYSB3YXknLFxyXG4gICAgICAndGhpcmQtcHJvZHVjdCcsXHJcbiAgICAgICdUZXN0aW5nIERlc2NyaXB0aW9uIExvcmVtIElwc3VtJyxcclxuICAgICAgJzYuOTAkJ1xyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIG1lbnVDb250YWluZXIuYXBwZW5kKFxyXG4gICAgY3JlYXRlUHJvZHVjdChcclxuICAgICAgJ1NocmltcCBlcnVwdGlvbicsXHJcbiAgICAgICdmb3VydGgtcHJvZHVjdCcsXHJcbiAgICAgICdUZXN0aW5nIERlc2NyaXB0aW9uIExvcmVtIElwc3VtJyxcclxuICAgICAgJzkuNjAkJ1xyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBtZW51Q29udGFpbmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQcm9kdWN0KHByb2R1Y3RUaXRsZSwgcGljdHVyZU5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSkge1xyXG4gIGNvbnN0IHByb2R1Y3RDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgcHJvZHVjdENhcmQuaWQgPSAncHJvZHVjdC1jYXJkJztcclxuXHJcbiAgY29uc3QgcHJvZHVjdEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgcHJvZHVjdEltYWdlLmlkID0gJ3Byb2R1Y3QtaW1nJztcclxuICBwcm9kdWN0SW1hZ2Uuc3JjID0gYC4uL3NyYy9hc3NldHMvJHtwaWN0dXJlTmFtZS50b0xvd2VyQ2FzZSgpfS5wbmdgO1xyXG4gIHByb2R1Y3RJbWFnZS5hbHQgPSBgJHtwaWN0dXJlTmFtZX1gO1xyXG5cclxuICBjb25zdCBwcm9kdWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XHJcbiAgcHJvZHVjdE5hbWUuaWQgPSAncHJvZHVjdC10aXRsZSc7XHJcbiAgcHJvZHVjdE5hbWUudGV4dENvbnRlbnQgPSBwcm9kdWN0VGl0bGU7XHJcblxyXG4gIGNvbnN0IHByb2R1Y3REZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICBwcm9kdWN0RGVzY3JpcHRpb24uaWQgPSAncHJvZHVjdC1kZXNjcmlwdGlvbic7XHJcbiAgcHJvZHVjdERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcblxyXG4gIGNvbnN0IHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICBwcm9kdWN0UHJpY2UuaWQgPSAncHJvZHVjdC1wcmljZSc7XHJcbiAgcHJvZHVjdFByaWNlLnRleHRDb250ZW50ID0gcHJpY2U7XHJcblxyXG4gIHByb2R1Y3RDYXJkLmFwcGVuZChwcm9kdWN0SW1hZ2UpO1xyXG4gIHByb2R1Y3RDYXJkLmFwcGVuZChwcm9kdWN0TmFtZSk7XHJcbiAgcHJvZHVjdENhcmQuYXBwZW5kKHByb2R1Y3REZXNjcmlwdGlvbik7XHJcbiAgcHJvZHVjdENhcmQuYXBwZW5kKHByb2R1Y3RQcmljZSk7XHJcblxyXG4gIHJldHVybiBwcm9kdWN0Q2FyZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNZW51UGFnZSgpIHtcclxuICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4nKTtcclxuXHJcbiAgbWFpbi5hcHBlbmQoY3JlYXRlTWVudVBhZ2UoKSk7XHJcbn0iLCJmdW5jdGlvbiBjcmVhdGVDb250YWN0UGFnZSgpIHtcclxuICBjb25zdCBjb250YWN0UGFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGNvbnRhY3RQYWdlQ29udGFpbmVyLmlkID0gJ2NvbnRhY3QtcGFnZS1jb250YWluZXInO1xyXG5cclxuICBjb25zdCBjb250YWN0VXNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XHJcbiAgY29udGFjdFVzVGl0bGUuaWQgPSAnY29udGFjdC11cy10aXRsZSc7XHJcbiAgY29udGFjdFVzVGl0bGUudGV4dENvbnRlbnQgPSAnQ29udGFjdCBVcyc7XHJcblxyXG4gIGNvbnN0IHN1Ym1pdEJ0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHN1Ym1pdEJ0bkNvbnRhaW5lci5pZCA9ICdzdWJtaXQtYnRuLWNvbnRhaW5lcic7XHJcblxyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gIHN1Ym1pdEJ0bi5pZCA9ICdzdWJtaXQtYnRuJztcclxuICBzdWJtaXRCdG4udmFsdWUgPSAnaW5zZXJ0JztcclxuICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSAnU3VibWl0JztcclxuXHJcbiAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3VibWl0Rm9ybSk7XHJcblxyXG4gIHN1Ym1pdEJ0bkNvbnRhaW5lci5hcHBlbmQoc3VibWl0QnRuKTtcclxuICBjb250YWN0UGFnZUNvbnRhaW5lci5hcHBlbmQoY29udGFjdFVzVGl0bGUgLGNyZWF0ZUZvcm0oKSwgc3VibWl0QnRuQ29udGFpbmVyKTtcclxuXHJcbiAgcmV0dXJuIGNvbnRhY3RQYWdlQ29udGFpbmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVGb3JtKCkge1xyXG4gIGNvbnN0IGNvbnRhY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgY29udGFjdEZvcm1Db250YWluZXIuaWQgPSAnY29udGFjdC1mb3JtLWNvbnRhaW5lcic7XHJcblxyXG4gIGNvbnN0IGNvbnRhY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xyXG4gIGNvbnRhY3RGb3JtLmlkID0gJ2NvbnRhY3QtZm9ybSc7XHJcbiAgY29udGFjdEZvcm0ubWV0aG9kID0gJ1BPU1QnO1xyXG5cclxuICBjb25zdCBuYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgbmFtZURpdi5pZCA9ICduYW1lLWRpdic7XHJcbiAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBuYW1lSW5wdXQuaWQgPSAnbmFtZS1pbnB1dCc7XHJcbiAgbmFtZUlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgbmFtZUlucHV0Lm5hbWUgPSAnbmFtZSc7XHJcbiAgbmFtZUlucHV0LmF1dG9jb21wbGV0ZSA9ICdvbic7XHJcbiAgbmFtZUlucHV0LnBsYWNlaG9sZGVyID0gJ05hbWUnO1xyXG4gIFxyXG4gIGNvbnN0IGVtYWlsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZW1haWxEaXYuaWQgPSAnZW1haWwtZGl2JztcclxuICBjb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBlbWFpbElucHV0LmlkID0gJ2VtYWlsLWlucHV0JztcclxuICBlbWFpbElucHV0LnR5cGUgPSAnZW1haWwnO1xyXG4gIGVtYWlsSW5wdXQubmFtZSA9ICdlbWFpbCc7XHJcbiAgZW1haWxJbnB1dC5hdXRvY29tcGxldGUgPSAnb24nO1xyXG4gIGVtYWlsSW5wdXQucGxhY2Vob2xkZXIgPSAnRW1haWwnO1xyXG4gIFxyXG4gIGNvbnN0IG1lc3NhZ2VCb3hEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBtZXNzYWdlQm94RGl2LmlkID0gJ21lc3NhZ2UtYm94LWRpdic7XHJcbiAgY29uc3QgbWVzc2FnZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgbWVzc2FnZUJveC5pZCA9ICdtZXNzYWdlLXRleHRhcmVhJztcclxuICBtZXNzYWdlQm94Lm5hbWUgPSAnbWVzc2FnZS10ZXh0JztcclxuICBtZXNzYWdlQm94LnBsYWNlaG9sZGVyID0gJ01lc3NhZ2UnO1xyXG4gIFxyXG4gIG5hbWVEaXYuYXBwZW5kKG5hbWVJbnB1dCk7XHJcbiAgZW1haWxEaXYuYXBwZW5kKGVtYWlsSW5wdXQpO1xyXG4gIG1lc3NhZ2VCb3hEaXYuYXBwZW5kKG1lc3NhZ2VCb3gpO1xyXG5cclxuICBjb250YWN0Rm9ybS5hcHBlbmQobmFtZURpdiwgZW1haWxEaXYsIG1lc3NhZ2VCb3hEaXYsIGVycm9yTWVzc2FnZXMuZXJyb3JWYWxpZGF0aW9uRm9yTmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VzLmVycm9yVmFsaWRhdGlvbkZvckVtYWlsLCBlcnJvck1lc3NhZ2VzLmVycm9yVmFsaWRhdGlvbkZvclRleHRBcmVhKTtcclxuICBjb250YWN0Rm9ybUNvbnRhaW5lci5hcHBlbmQoY29udGFjdEZvcm0pO1xyXG5cclxuICByZXR1cm4gY29udGFjdEZvcm1Db250YWluZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7XHJcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lLWlucHV0JykudmFsdWU7XHJcbiAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1haWwtaW5wdXQnKS52YWx1ZTtcclxuICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UtdGV4dGFyZWEnKS52YWx1ZTtcclxuICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4nKTtcclxuXHJcbiAgaWYgKCF2YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZSBkYXRhIHRha2VuIGZyb20gdGhlIGZvcm1cclxuICBjb25zdCBmb3JtRGF0YSA9IHtcclxuICAgIG5hbWU6IG5hbWUsXHJcbiAgICBlbWFpbDogZW1haWwsXHJcbiAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gIH07XHJcblxyXG4gIC8vIENvbnZlcnQgdGhlIGZvcm1EYXRhIG9iamVjdCBpbnRvIGEgSlNPTiBzdHJpbmdcclxuICBjb25zdCBmb3JtRGF0YUpTT04gPSBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSk7XHJcblxyXG4gIC8vIFN0b3JlIHRoZSBKU09OIGRhdGEgaW4gbG9jYWxTdG9yYWdlXHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zvcm1EYXRhJywgZm9ybURhdGFKU09OKTtcclxuXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUtaW5wdXQnKS52YWx1ZSA9ICcnO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbC1pbnB1dCcpLnZhbHVlID0gJyc7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UtdGV4dGFyZWEnKS52YWx1ZSA9ICcnO1xyXG5cclxuICBkaXNwbGF5TG9jYWxTdG9yYWdlRGF0YSgpOyAgLy8gVXBkYXRlIHRoZSBkaXNwbGF5ZWQgZGF0YSBmcm9tIGxvY2FsIHN0b3JhZ2VcclxuXHJcbiAgbWFpbi5hcHBlbmQoY29uZmlybU1lc3NhZ2VzLmNvbmZpcm1hdGlvbk1lc3NhZ2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7XHJcbiAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUtaW5wdXQnKS52YWx1ZTtcclxuICBjb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsLWlucHV0JykudmFsdWU7XHJcbiAgY29uc3QgbWVzc2FnZVRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UtdGV4dGFyZWEnKS52YWx1ZTtcclxuICBjb25zdCBjb25maXJtYXRpb25NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbmZpcm1hdGlvbi1tZXNzYWdlJyk7XHJcbiAgbGV0IGlzRm9ybUlucHV0VmFsaWQgPSB0cnVlO1xyXG5cclxuICBpZiAoIW5hbWVJbnB1dCB8fCBuYW1lSW5wdXQubGVuZ3RoIDwgMikge1xyXG4gICAgZXJyb3JNZXNzYWdlcy5lcnJvclZhbGlkYXRpb25Gb3JOYW1lLmlubmVySFRNTCA9ICdOYW1lIGlzIHRvbyBzaG9ydCwgcGxlYXNlIGdpdmUgYSB2YWxpZCBuYW1lISc7XHJcbiAgICBpc0Zvcm1JbnB1dFZhbGlkID0gZmFsc2U7XHJcbiAgfSBlbHNlIGlmICghL15bYS16QS16XSskLy50ZXN0KG5hbWVJbnB1dCkgKSB7XHJcbiAgICBlcnJvck1lc3NhZ2VzLmVycm9yVmFsaWRhdGlvbkZvck5hbWUuaW5uZXJIVE1MID0gJ1BsZWFzZSBnaXZlIGEgdmFsaWQgbmFtZSEnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDbGVhciB0aGUgZXJyb3IgbWVzc2FnZSBpZiB0aGUgaW5wdXQgaXMgdmFsaWRcclxuICAgIGVycm9yTWVzc2FnZXMuZXJyb3JWYWxpZGF0aW9uRm9yTmFtZS5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIGlmICghL15bQS1aYS16MC05Ll8lKy1dK0BbQS1aYS16MC05Li1dK1xcLltBLVphLXpdezIsfSQvLnRlc3QoZW1haWxJbnB1dCkpIHtcclxuICAgIGVycm9yTWVzc2FnZXMuZXJyb3JWYWxpZGF0aW9uRm9yRW1haWwuaW5uZXJIVE1MID0gJ1BsZWFzZSBnaXZlIGEgdmFsaWQgZW1haWwhJztcclxuICAgIGlzRm9ybUlucHV0VmFsaWQgPSBmYWxzZTtcclxuICB9IGVsc2Uge1xyXG4gICAgZXJyb3JNZXNzYWdlcy5lcnJvclZhbGlkYXRpb25Gb3JFbWFpbC5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIGlmICghbWVzc2FnZVRleHRBcmVhfHwgbWVzc2FnZVRleHRBcmVhLmxlbmd0aCA8PSA2KSB7XHJcbiAgICBlcnJvck1lc3NhZ2VzLmVycm9yVmFsaWRhdGlvbkZvclRleHRBcmVhLmlubmVySFRNTCA9ICdNZXNzYWdlIHRvbyBzaG9ydCEnO1xyXG4gICAgaXNGb3JtSW5wdXRWYWxpZCA9IGZhbHNlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlcnJvck1lc3NhZ2VzLmVycm9yVmFsaWRhdGlvbkZvclRleHRBcmVhLmlubmVySFRNTCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNvbmZpcm1hdGlvbk1lc3NhZ2UpIHtcclxuICAgIGNvbmZpcm1NZXNzYWdlcy5jb25maXJtYXRpb25NZXNzYWdlLmlubmVySFRNTCA9ICdZb3UgYXJlIGFscmVhZHkgc3VibWl0dGVkIHRoZSBmb3JtISc7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbmZpcm1NZXNzYWdlcy5jb25maXJtYXRpb25NZXNzYWdlLmlubmVySFRNTCA9IGBGb3JtIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHkhIDxicj5cclxuICAgIFdlIHdpbGwgY29udGFjdCB5b3UgYXMgc29vbiBhcyBwb3NzaWJsZS5gO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlzRm9ybUlucHV0VmFsaWQ7XHJcbn1cclxuXHJcbi8vIElJRkUgKEltbWVkaWF0ZWx5IEludm9rZWQgRnVuY3Rpb24gRXhwcmVzc2lvbikgZm9yIGVuY2Fwc3VsYXRpb24gcHVycG9zZVxyXG5jb25zdCBlcnJvck1lc3NhZ2VzID0gKCgpID0+IHtcclxuICBjb25zdCBlcnJvclZhbGlkYXRpb25Gb3JOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIGVycm9yVmFsaWRhdGlvbkZvck5hbWUuaWQgPSAnZXJyb3ItbmFtZSc7XHJcblxyXG4gIGNvbnN0IGVycm9yVmFsaWRhdGlvbkZvckVtYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIGVycm9yVmFsaWRhdGlvbkZvckVtYWlsLmlkID0gJ2Vycm9yLWVtYWlsJztcclxuXHJcbiAgY29uc3QgZXJyb3JWYWxpZGF0aW9uRm9yVGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgZXJyb3JWYWxpZGF0aW9uRm9yVGV4dEFyZWEuaWQgPSAnZXJyb3ItdGV4dGFyZWEnO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZXJyb3JWYWxpZGF0aW9uRm9yTmFtZSxcclxuICAgIGVycm9yVmFsaWRhdGlvbkZvckVtYWlsLFxyXG4gICAgZXJyb3JWYWxpZGF0aW9uRm9yVGV4dEFyZWEsXHJcbiAgfTtcclxufSkoKTtcclxuXHJcbmNvbnN0IGNvbmZpcm1NZXNzYWdlcyA9ICgoKSA9PiB7XHJcbiAgLy8gU2hvd3MgYSBjb25maXJtYXRpb24gbWVzc2FnZSB1cG9uIGEgc3VjY2Vzc2Z1bCBzdWJtaXNzaW9uIG9mIHRoZSBmb3JtXHJcbiAgY29uc3QgY29uZmlybWF0aW9uTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGNvbmZpcm1hdGlvbk1lc3NhZ2UuaWQgPSAnY29uZmlybWF0aW9uLW1lc3NhZ2UnO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY29uZmlybWF0aW9uTWVzc2FnZVxyXG4gIH1cclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGRpc3BsYXlMb2NhbFN0b3JhZ2VEYXRhKCkge1xyXG4gIC8vIFJldHJpZXZpbmcgdGhlIGRhdGEgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgY29uc3QgbG9jYWxTdG9yYWdlRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb3JtRGF0YScpO1xyXG5cclxuICBpZiAobG9jYWxTdG9yYWdlRGF0YSkge1xyXG4gICAgLy8gUGFyc2luZyBKU09OIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0XHJcbiAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VEYXRhKTtcclxuXHJcbiAgICAvLyBsb2dzIHRoZSBzdG9yZWQgZGF0YSBmcm9tIHRoZSBmb3JtXHJcbiAgICBjb25zb2xlLmxvZygnU3RvcmVkIEZvcm0gRGF0YTogJywgcGFyc2VkRGF0YSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKCdUaGVyZSBpc25cXCd0IGFueSBkYXRhIHN0b3JlZCBpbiB0aGUgbG9jYWwgc3RvcmFnZS4nKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ29udGFjdFBhZ2UoKSB7XHJcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluJyk7XHJcblxyXG4gIG1haW4uYXBwZW5kKGNyZWF0ZUNvbnRhY3RQYWdlKCkpO1xyXG59XHJcblxyXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImltcG9ydCB7IGxvYWRIb21lUGFnZSB9IGZyb20gXCIuL2hvbWVcIjtcclxuaW1wb3J0IHsgbG9hZE1lbnVQYWdlIH0gZnJvbSBcIi4vbWVudVwiO1xyXG5pbXBvcnQgeyBsb2FkQ29udGFjdFBhZ2UgfSBmcm9tIFwiLi9jb250YWN0XCI7XHJcbmltcG9ydCBob21lQmFja2dyb3VuZFBpYyBmcm9tICcuL2Fzc2V0cy9kYW5pZWxlLXNhbHV0YXJpLXJlc3RhdXJhbnQtaG9tZS5wbmcnO1xyXG5pbXBvcnQgY29udGFjdEJhY2tncm91bmRQaWMgZnJvbSAnLi9hc3NldHMvY29udGFjdC11cy5wbmcnO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlSGVhZGVyKCkge1xyXG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xyXG4gIGhlYWRlci5pZCA9ICdoZWFkZXInO1xyXG5cclxuICBjb25zdCBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgbG9nby5pZCA9ICdsb2dvJztcclxuICBsb2dvLnNyYyA9ICcuLi9zcmMvYXNzZXRzL29rb25vbWktbG9nby5wbmcnO1xyXG4gIGxvZ28uYWx0ID0gJ0xPR08nO1xyXG5cclxuICBoZWFkZXIuYXBwZW5kKGxvZ28pO1xyXG4gIGhlYWRlci5hcHBlbmQoY3JlYXRlTmF2KCkpO1xyXG5cclxuICByZXR1cm4gaGVhZGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOYXYoKSB7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2Jyk7XHJcbiAgbmF2LmlkID0gJ25hdic7XHJcblxyXG4gIGNvbnN0IGhvbWVOYXZCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICBob21lTmF2QnRuLmlkID0gJ2hvbWUtYnRuJztcclxuICBob21lTmF2QnRuLnRleHRDb250ZW50ID0gJ0hPTUUnO1xyXG5cclxuICBjb25zdCBtZW51TmF2QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgbWVudU5hdkJ0bi5pZCA9ICdtZW51LWJ0bic7XHJcbiAgbWVudU5hdkJ0bi50ZXh0Q29udGVudCA9ICdNRU5VJztcclxuXHJcbiAgY29uc3QgY29udGFjdE5hdkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gIGNvbnRhY3ROYXZCdG4uaWQgPSAnY29udGFjdC1idG4nO1xyXG4gIGNvbnRhY3ROYXZCdG4udGV4dENvbnRlbnQgPSAnQ09OVEFDVCBVUyc7XHJcblxyXG4gIG5hdi5hcHBlbmQoaG9tZU5hdkJ0bik7XHJcbiAgbmF2LmFwcGVuZChtZW51TmF2QnRuKTtcclxuICBuYXYuYXBwZW5kKGNvbnRhY3ROYXZCdG4pO1xyXG5cclxuICByZXR1cm4gbmF2O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVNYWluKCkge1xyXG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XHJcbiAgbWFpbi5pZCA9ICdtYWluJztcclxuXHJcbiAgcmV0dXJuIG1haW47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUZvb3RlcigpIHtcclxuICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcclxuICBmb290ZXIuaWQgPSAnZm9vdGVyJztcclxuXHJcbiAgY29uc3QgZm9vdGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZm9vdGVyRGl2LmlkID0gJ2Zvb3Rlci1kaXYnO1xyXG5cclxuICBjb25zdCBjb3B5cmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgY29weXJpZ2h0LnRleHRDb250ZW50ID0gJ0NvcHlyaWdodCDCqSc7XHJcblxyXG4gIGNvbnN0IGF1dGhvck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgYXV0aG9yTmFtZS50ZXh0Q29udGVudCA9ICdKb3JkYW4gUGFwYWRpdHNhcyc7XHJcblxyXG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBjb25zdCBnaXRIdWJMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gIGdpdEh1YkxpbmsuaHJlZiA9ICdodHRwczovL2dpdGh1Yi5jb20vam9yZGFucGFwYWRpdHNhcyc7XHJcblxyXG4gIGNvbnN0IGdpdEh1Ykljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgZ2l0SHViSWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1icmFuZHMnLCAnZmEtZ2l0aHViJyk7XHJcblxyXG4gIGZvb3RlckRpdi5hcHBlbmQoY29weXJpZ2h0LCBhdXRob3JOYW1lLCBjdXJyZW50RGF0ZSwgZ2l0SHViTGluayk7XHJcbiAgZ2l0SHViTGluay5hcHBlbmQoZ2l0SHViSWNvbik7XHJcbiAgZm9vdGVyLmFwcGVuZChmb290ZXJEaXYpO1xyXG5cclxuICByZXR1cm4gZm9vdGVyO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYnJvd3NlTmF2VGFicygpIHtcclxuICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XHJcbiAgY29uc3QgaG9tZUJhY2tncm91bmRJbWFnZSA9IGhvbWVCYWNrZ3JvdW5kUGljO1xyXG4gIGNvbnN0IGNvbnRhY3RCYWNrZ3JvdW5kSW1hZ2UgPSBjb250YWN0QmFja2dyb3VuZFBpYztcclxuXHJcbiAgYnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmlkID09PSAnaG9tZS1idG4nKSB7XHJcbiAgICAgICAgY2xlYW5NYWluKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7aG9tZUJhY2tncm91bmRJbWFnZX0pYDtcclxuICAgICAgICBsb2FkSG9tZVBhZ2UoKTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuaWQgPT09ICdtZW51LWJ0bicpIHtcclxuICAgICAgICBjbGVhbk1haW4oKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICdub25lJztcclxuICAgICAgICBsb2FkTWVudVBhZ2UoKTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuaWQgPT09ICdjb250YWN0LWJ0bicpIHtcclxuICAgICAgICBjbGVhbk1haW4oKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtjb250YWN0QmFja2dyb3VuZEltYWdlfSlgO1xyXG4gICAgICAgIGxvYWRDb250YWN0UGFnZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYW5NYWluKCkge1xyXG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpO1xyXG4gIG1haW4udGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgcmV0dXJuIG1haW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkUGFnZSgpIHtcclxuICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTtcclxuXHJcbiAgY29udGVudC5hcHBlbmQoY3JlYXRlSGVhZGVyKCkpO1xyXG4gIGNvbnRlbnQuYXBwZW5kKGNyZWF0ZU1haW4oKSk7XHJcbiAgY29udGVudC5hcHBlbmQoY3JlYXRlRm9vdGVyKCkpO1xyXG4gIGxvYWRIb21lUGFnZSgpO1xyXG4gIGJyb3dzZU5hdlRhYnMoKTtcclxuXHJcbiAgcmV0dXJuIGNvbnRlbnQ7XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBsb2FkUGFnZSB9IGZyb20gJy4vcGFnZS1zdHJ1Y3R1cmUnO1xyXG5cclxubG9hZFBhZ2UoKTtcclxuXHJcblxyXG4vLyBUYXNrczogXHJcbi8vIEZpZ3VyZSBvdXQgaG93IHRvIG5vdCBsZXQgc3VibWl0IHRoZSBmb3JtIG1vcmUgdGhhbiBvbmNlIGluIGV2ZXJ5IHNlc3Npb25cclxuLy8gQ29tcGxldGUgdGhlIENTUyBzdHlsaW5nIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJsb2FkSG9tZVBhZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmQiLCJob21lUGFnZURpdiIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsInJlc3RhdXJhbnROYW1lIiwiaW5uZXJIVE1MIiwiaG9tZVBhcmFncmFwaCIsIndvcmtTY2hlZHVsZURpdiIsImhvdXJzVGl0bGUiLCJ0ZXh0Q29udGVudCIsImhvdXJzTW9uZGF5IiwiY2xhc3NMaXN0IiwiYWRkIiwiaG91cnNUdWVzZGF5IiwiaG91cnNXZWRuZXNkYXkiLCJob3Vyc1RodXJzZGF5IiwiaG91cnNGcmlkYXkiLCJob3Vyc1NhdHVyZGF5IiwiY3JlYXRlSG9tZVBhZ2UiLCJjcmVhdGVQcm9kdWN0IiwicHJvZHVjdFRpdGxlIiwicGljdHVyZU5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwicHJvZHVjdENhcmQiLCJwcm9kdWN0SW1hZ2UiLCJzcmMiLCJ0b0xvd2VyQ2FzZSIsImFsdCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdERlc2NyaXB0aW9uIiwicHJvZHVjdFByaWNlIiwic3VibWl0Rm9ybSIsIm5hbWUiLCJ2YWx1ZSIsImVtYWlsIiwibWVzc2FnZSIsIm1haW4iLCJuYW1lSW5wdXQiLCJlbWFpbElucHV0IiwibWVzc2FnZVRleHRBcmVhIiwiY29uZmlybWF0aW9uTWVzc2FnZSIsImlzRm9ybUlucHV0VmFsaWQiLCJsZW5ndGgiLCJlcnJvck1lc3NhZ2VzIiwiZXJyb3JWYWxpZGF0aW9uRm9yTmFtZSIsInRlc3QiLCJlcnJvclZhbGlkYXRpb25Gb3JFbWFpbCIsImVycm9yVmFsaWRhdGlvbkZvclRleHRBcmVhIiwiY29uZmlybU1lc3NhZ2VzIiwidmFsaWRhdGVGb3JtIiwiZm9ybURhdGEiLCJmb3JtRGF0YUpTT04iLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImxvY2FsU3RvcmFnZURhdGEiLCJnZXRJdGVtIiwicGFyc2VkRGF0YSIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsImRpc3BsYXlMb2NhbFN0b3JhZ2VEYXRhIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiYnJvd3NlTmF2VGFicyIsImJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaG9tZUJhY2tncm91bmRJbWFnZSIsImNvbnRhY3RCYWNrZ3JvdW5kSW1hZ2UiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiY2xlYW5NYWluIiwiYm9keSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwibWVudUNvbnRhaW5lciIsImNyZWF0ZU1lbnVQYWdlIiwiY29udGFjdFBhZ2VDb250YWluZXIiLCJjb250YWN0VXNUaXRsZSIsInN1Ym1pdEJ0bkNvbnRhaW5lciIsInN1Ym1pdEJ0biIsImNvbnRhY3RGb3JtQ29udGFpbmVyIiwiY29udGFjdEZvcm0iLCJtZXRob2QiLCJuYW1lRGl2IiwidHlwZSIsImF1dG9jb21wbGV0ZSIsInBsYWNlaG9sZGVyIiwiZW1haWxEaXYiLCJtZXNzYWdlQm94RGl2IiwibWVzc2FnZUJveCIsImNyZWF0ZUZvcm0iLCJjcmVhdGVDb250YWN0UGFnZSIsImNvbnRlbnQiLCJoZWFkZXIiLCJsb2dvIiwibmF2IiwiaG9tZU5hdkJ0biIsIm1lbnVOYXZCdG4iLCJjb250YWN0TmF2QnRuIiwiY3JlYXRlTmF2IiwiY3JlYXRlSGVhZGVyIiwiY3JlYXRlTWFpbiIsImZvb3RlciIsImZvb3RlckRpdiIsImNvcHlyaWdodCIsImF1dGhvck5hbWUiLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImdpdEh1YkxpbmsiLCJocmVmIiwiZ2l0SHViSWNvbiIsImNyZWF0ZUZvb3RlciIsImxvYWRQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==